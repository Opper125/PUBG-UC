<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ Auto Video Downloader Bot - Relay System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 15px;
            color: white;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            margin-bottom: 25px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 12px;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
            margin: 8px 0;
        }

        .status-badge {
            display: inline-block;
            padding: 10px 25px;
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4CAF50;
            border-radius: 20px;
            margin-top: 15px;
            font-weight: bold;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        .card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .card h2 {
            margin-bottom: 18px;
            font-size: 1.6em;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 12px;
        }

        .bot-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .info-box {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 12px;
            border-left: 4px solid #4CAF50;
        }

        .info-label {
            font-size: 0.85em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 1.1em;
            font-weight: bold;
            word-break: break-all;
        }

        .telegram-widget {
            width: 100%;
            height: 600px;
            border: none;
            border-radius: 15px;
            background: white;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .btn {
            display: inline-block;
            padding: 14px 32px;
            margin: 8px;
            border: none;
            border-radius: 12px;
            font-size: 1.05em;
            font-weight: bold;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.6);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(33, 150, 243, 0.6);
        }

        .instruction-step {
            background: rgba(0, 0, 0, 0.2);
            padding: 18px;
            margin-bottom: 12px;
            border-radius: 12px;
            border-left: 5px solid #FFC107;
            display: flex;
            align-items: start;
            gap: 15px;
        }

        .step-number {
            background: #FFC107;
            color: #000;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .code-block {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            margin-top: 10px;
            border: 1px solid #333;
        }

        .alert {
            padding: 18px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: none;
            animation: slideDown 0.4s ease;
            font-weight: 500;
        }

        .alert.show {
            display: block;
        }

        .alert.info {
            background: rgba(33, 150, 243, 0.25);
            border: 2px solid #2196F3;
            color: #E3F2FD;
        }

        .alert.warning {
            background: rgba(255, 152, 0, 0.25);
            border: 2px solid #FF9800;
            color: #FFF3E0;
        }

        .alert.success {
            background: rgba(76, 175, 80, 0.25);
            border: 2px solid #4CAF50;
            color: #E8F5E9;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .video-demo {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            overflow: hidden;
        }

        .quick-links {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 15px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .bot-info {
                grid-template-columns: 1fr;
            }

            .telegram-widget {
                height: 500px;
            }
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            margin-left: 10px;
            transition: all 0.3s;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2em;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üé¨ Auto Video Downloader Bot</h1>
            <p>Relay System - Powered by HUB9XDOWNLOADERBOT</p>
            <div class="status-badge">‚úì System Online</div>
        </div>

        <!-- Alert -->
        <div class="alert info show" id="infoAlert">
            <strong>‚ÑπÔ∏è ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏:</strong> ·Äû·ÄÑ·Ä∑·Ä∫ bot (@YOUR_BOT_NAME) ·Äû·Ää·Ä∫ HUB9XDOWNLOADERBOT ·ÄÄ·Ä≠·ÄØ relay bot ·Ä°·Äî·Ä±·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äï·Ä´·Äû·Ää·Ä∫·Åã ·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´ instructions ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äú·Ä≠·ÄØ·ÄÄ·Ä∫·Äî·Ä¨·Äï·Ä´·Åã
        </div>

        <!-- Bot Information -->
        <div class="card">
            <h2>ü§ñ Bot Configuration</h2>
            <div class="bot-info">
                <div class="info-box">
                    <div class="info-label">·Äû·ÄÑ·Ä∑·Ä∫ Bot Token</div>
                    <div class="info-value" style="font-size: 0.8em;">7821519***</div>
                </div>
                <div class="info-box">
                    <div class="info-label">Relay Bot</div>
                    <div class="info-value">@HUB9XDOWNLOADERBOT</div>
                </div>
                <div class="info-box">
                    <div class="info-label">Owner Account</div>
                    <div class="info-value">@OPPER101</div>
                </div>
                <div class="info-box">
                    <div class="info-label">Owner ID</div>
                    <div class="info-value">1538232799</div>
                </div>
            </div>

            <div class="quick-links">
                <a href="https://t.me/HUB9XDOWNLOADERBOT" target="_blank" class="btn btn-primary">
                    üöÄ Open Relay Bot
                </a>
                <a href="https://t.me/OPPER101" target="_blank" class="btn btn-secondary">
                    üë§ Contact Owner
                </a>
            </div>
        </div>

        <!-- Embedded Telegram Bot -->
        <div class="card">
            <h2>üì± Direct Bot Access</h2>
            <p style="margin-bottom: 15px; opacity: 0.9;">
                HUB9XDOWNLOADERBOT ·ÄÄ·Ä≠·ÄØ ·Äê·Ä≠·ÄØ·ÄÄ·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äõ·Äî·Ä∫ ·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ embed ·Äú·ÄØ·Äï·Ä∫·Äë·Ä¨·Ä∏·Äï·Ä´·Äû·Ää·Ä∫·Åã
            </p>
            
            <!-- Telegram Widget -->
            <iframe 
                class="telegram-widget" 
                src="https://t.me/HUB9XDOWNLOADERBOT"
                id="telegramWidget"
                allow="camera; microphone"
            ></iframe>

            <div style="margin-top: 15px; text-align: center;">
                <button class="btn btn-secondary" onclick="reloadWidget()">üîÑ Reload Bot</button>
            </div>
        </div>

        <!-- Setup Instructions -->
        <div class="card">
            <h2>‚öôÔ∏è Auto-Relay Setup Instructions</h2>
            <p style="margin-bottom: 20px; opacity: 0.9;">
                ·Äû·ÄÑ·Ä∑·Ä∫ bot ·ÄÄ·Ä≠·ÄØ HUB9XDOWNLOADERBOT ·Äî·Ä≤·Ä∑ auto-relay ·Äú·ÄØ·Äï·Ä∫·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Äî·Ä∫ ·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´ setup ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´:
            </p>

            <div class="instruction-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <strong>Telegram Bot Code Setup</strong>
                    <p>·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´ code ·ÄÄ·Ä≠·ÄØ ·Äû·ÄÑ·Ä∑·Ä∫ bot handler ·Äë·Ä≤·Äô·Äæ·Ä¨ ·Äë·Ää·Ä∑·Ä∫·Äï·Ä´:</p>
                    <div class="code-block" id="botCode">
// When user sends video link to your bot
async function handleVideoLink(chatId, videoUrl) {
    // Send instruction to user
    await sendMessage(chatId, 
        `üîÑ Processing your request...\n\n` +
        `Please click the button below to get your video:`
    );

    // Create deep link to HUB9XDOWNLOADERBOT
    const relayBotUrl = `https://t.me/HUB9XDOWNLOADERBOT?start=${encodeURIComponent(videoUrl)}`;
    
    const keyboard = {
        inline_keyboard: [[
            { 
                text: 'üì• Download via HUB9X Bot', 
                url: relayBotUrl 
            }
        ]]
    };

    await sendMessage(chatId, 
        `‚úÖ Ready to download!\n\n` +
        `üé¨ Video: ${videoUrl}\n\n` +
        `Click the button below to process:`,
        { reply_markup: keyboard }
    );
}
                    </div>
                    <button class="copy-btn" onclick="copyCode('botCode')">üìã Copy Code</button>
                </div>
            </div>

            <div class="instruction-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <strong>Webhook Configuration</strong>
                    <p>·Äû·ÄÑ·Ä∑·Ä∫ bot webhook ·ÄÄ·Ä≠·ÄØ set ·Äú·ÄØ·Äï·Ä∫·Äõ·Äî·Ä∫ browser ·Äô·Äæ·Ä¨ ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä´:</p>
                    <div class="code-block" id="webhookUrl">
https://api.telegram.org/bot7821519539:AAFmikR4MBeLKRLTYD3nqeTUrSdc7RqJQA8/setWebhook?url=https://YOUR-DOMAIN.com/webhook
                    </div>
                    <button class="copy-btn" onclick="copyCode('webhookUrl')">üìã Copy</button>
                </div>
            </div>

            <div class="instruction-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <strong>Testing the Relay System</strong>
                    <p>Test ·Äú·ÄØ·Äï·Ä∫·Äõ·Äî·Ä∫:</p>
                    <ul style="margin-top: 10px; line-height: 1.8;">
                        <li>·Äû·ÄÑ·Ä∑·Ä∫ bot ·ÄÄ·Ä≠·ÄØ Telegram ·Äô·Äæ·Ä¨ ·Äñ·ÄΩ·ÄÑ·Ä∑·Ä∫·Äï·Ä´</li>
                        <li>/start ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä´</li>
                        <li>YouTube/TikTok/Facebook link ·Äê·ÄÅ·ÄØ ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä´</li>
                        <li>"Download via HUB9X Bot" button ·Äï·Ä±·Ä´·Ä∫·Äú·Ä¨·Äô·Äö·Ä∫</li>
                        <li>Button ·Äî·Äæ·Ä≠·Äï·Ä∫·Äõ·ÄÑ·Ä∫ HUB9XDOWNLOADERBOT ·ÄÜ·ÄÆ redirect ·Äû·ÄΩ·Ä¨·Ä∏·Äô·Äö·Ä∫</li>
                        <li>Video download ·Äõ·Äô·Äö·Ä∫</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Complete Bot Code -->
        <div class="card">
            <h2>üìÑ Complete Relay Bot Code (Netlify Function)</h2>
            <p style="margin-bottom: 15px;">
                ·Äû·ÄÑ·Ä∑·Ä∫ Netlify Functions folder ·Äë·Ä≤·Äô·Äæ·Ä¨ ·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´ file ·ÄÄ·Ä≠·ÄØ create ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´:
            </p>
            
            <div class="code-block" id="completeCode" style="max-height: 400px; overflow-y: auto;">
// netlify/functions/telegram-relay.js

const fetch = require('node-fetch');

const BOT_TOKEN = '7821519539:AAFmikR4MBeLKRLTYD3nqeTUrSdc7RqJQA8';
const RELAY_BOT = '@HUB9XDOWNLOADERBOT';
const RELAY_BOT_ID = '8224680804';
const OWNER_ID = '1538232799';
const CHANNEL_ID = '-1003011981359';
const GROUP_ID = '-1003151936245';
const CHANNEL_LINK = 'https://t.me/+akSU2_DCpW5iMzll';
const GROUP_LINK = 'https://t.me/+okfdHYdJXjcwNGFl';

// Send message helper
async function sendMessage(chatId, text, extra = {}) {
    const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
    const response = await fetch(url, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            chat_id: chatId,
            text: text,
            parse_mode: 'HTML',
            ...extra
        })
    });
    return await response.json();
}

// Check membership
async function checkMembership(userId, chatId) {
    try {
        const url = `https://api.telegram.org/bot${BOT_TOKEN}/getChatMember`;
        const response = await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                chat_id: chatId,
                user_id: userId
            })
        });
        const data = await response.json();
        const status = data.result?.status;
        return ['creator', 'administrator', 'member'].includes(status);
    } catch {
        return false;
    }
}

// Detect video platform
function detectPlatform(url) {
    if (url.includes('youtube.com') || url.includes('youtu.be')) return 'YouTube';
    if (url.includes('facebook.com') || url.includes('fb.watch')) return 'Facebook';
    if (url.includes('tiktok.com')) return 'TikTok';
    if (url.includes('instagram.com')) return 'Instagram';
    return 'Unknown';
}

// Main handler
exports.handler = async (event) => {
    const headers = {
        'Access-Control-Allow-Origin': '*',
        'Access-Control-Allow-Headers': 'Content-Type',
        'Access-Control-Allow-Methods': 'POST, OPTIONS'
    };

    if (event.httpMethod === 'OPTIONS') {
        return { statusCode: 200, headers, body: '' };
    }

    try {
        const update = JSON.parse(event.body);

        // Handle messages
        if (update.message) {
            const msg = update.message;
            const chatId = msg.chat.id;
            const userId = msg.from.id;
            const text = msg.text || '';

            // Handle /start
            if (text === '/start') {
                const welcomeMsg = `ü§ù ·Äô·ÄÇ·Ä∫·Äú·Ä¨·Äï·Ä´·ÄÅ·ÄÑ·Ä∫·Äó·Äª·Ä¨ Bot ·ÄÄ·Ä≠·ÄØ ·ÄÖ·Äê·ÄÑ·Ä∫·Äô·Ä∞·Ä∑·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äê·ÄÑ·Ä∫·Äï·Ä´·Äê·Äö·Ä∫

Bot ·Äê·ÄΩ·ÄÑ·Ä∫ Video Link ·Äï·Ä≠·ÄØ·Ä∑·Äï·ÄÆ·Ä∏ Video ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ Quality ·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏ Download ·ÄÜ·ÄΩ·Ä≤·Äï·Ä´

üìå Supported Platforms:
‚Ä¢ YouTube (Videos & Shorts)
‚Ä¢ Facebook (Videos)
‚Ä¢ TikTok (Videos)
‚Ä¢ Instagram (Reels)

üí° ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ää·Ä∫·Ä∏:
1. Video link ·ÄÄ·Ä≠·ÄØ copy ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´
2. Bot ·Äë·Ä≤·Äô·Äæ·Ä¨ paste ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´
3. Download button ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Ä´

üéØ Let's start!`;

                await sendMessage(chatId, welcomeMsg);

                // Check membership
                const channelMember = await checkMembership(userId, CHANNEL_ID);
                const groupMember = await checkMembership(userId, GROUP_ID);

                if (!channelMember || !groupMember) {
                    const keyboard = {
                        inline_keyboard: [
                            [{ text: 'üì¢ Join Channel', url: CHANNEL_LINK }],
                            [{ text: 'üë• Join Group', url: GROUP_LINK }],
                            [{ text: '‚úÖ Done', callback_data: 'check_membership' }]
                        ]
                    };

                    await sendMessage(chatId, 
                        `‚ö†Ô∏è Bot ·ÄÄ·Ä≠·ÄØ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äõ·Äî·Ä∫ Channel ·Äî·Äæ·ÄÑ·Ä∑·Ä∫ Group ·ÄÄ·Ä≠·ÄØ Join ·Äú·ÄØ·Äï·Ä∫·Äï·Ä±·Ä∏·Äï·Ä´·Åã`,
                        { reply_markup: keyboard }
                    );
                }

                return { statusCode: 200, headers, body: JSON.stringify({ ok: true }) };
            }

            // Handle video links
            if (text.includes('http')) {
                const platform = detectPlatform(text);
                
                if (platform === 'Unknown') {
                    await sendMessage(chatId, '‚ùå ·Äï·Ä∂·Ä∑·Äï·Ä≠·ÄØ·Ä∏·Äô·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨ link ·Äñ·Äº·ÄÖ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã');
                    return { statusCode: 200, headers, body: JSON.stringify({ ok: true }) };
                }

                // Create deep link to relay bot
                const relayUrl = `https://t.me/HUB9XDOWNLOADERBOT?start=${encodeURIComponent(text)}`;

                const keyboard = {
                    inline_keyboard: [[
                        { 
                            text: 'üì• Download Video', 
                            url: relayUrl 
                        }
                    ]]
                };

                await sendMessage(chatId, 
                    `‚úÖ Video Link ·Äõ·Äæ·Ä¨·Äê·ÄΩ·Ä±·Ä∑·Äï·Ä´·Äï·ÄÆ!\n\n` +
                    `üì± Platform: ${platform}\n` +
                    `üîó Link: ${text}\n\n` +
                    `üì• ·Ä°·Ä±·Ä¨·ÄÄ·Ä∫·ÄÄ button ·ÄÄ·Ä≠·ÄØ ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·ÄÆ·Ä∏ download ·ÄÜ·ÄΩ·Ä≤·Äï·Ä´:`,
                    { reply_markup: keyboard }
                );

                return { statusCode: 200, headers, body: JSON.stringify({ ok: true }) };
            }

            // Default message
            await sendMessage(chatId, 
                `üìé ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äï·Äº·ÄØ·Åç video link ·Äï·Ä≠·ÄØ·Ä∑·Äï·Ä´·Åã\n\n` +
                `‚úÖ Supported: YouTube, Facebook, TikTok, Instagram`
            );
        }

        // Handle callback queries
        if (update.callback_query) {
            const query = update.callback_query;
            const chatId = query.message.chat.id;
            const userId = query.from.id;
            const data = query.data;

            if (data === 'check_membership') {
                const channelMember = await checkMembership(userId, CHANNEL_ID);
                const groupMember = await checkMembership(userId, GROUP_ID);

                if (channelMember && groupMember) {
                    await sendMessage(chatId, 
                        `‚úÖ ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äê·ÄÑ·Ä∫·Äï·Ä´·Äê·Äö·Ä∫! ·Äû·ÄÑ·Ä∫ Join ·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·Äï·ÄÆ·Ä∏·Äï·Ä´·Äï·ÄÆ·Åã\n\n` +
                        `üé¨ ·Äö·ÄÅ·ÄØ video link ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ ·Äï·Ä≠·ÄØ·Ä∑·Åç download ·ÄÜ·ÄΩ·Ä≤·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äï·ÄÆ·Åã`
                    );
                } else {
                    await sendMessage(chatId, 
                        `‚ùå ·Äû·ÄÑ·Ä∫·Äû·Ää·Ä∫ Channel/Group ·ÄÄ·Ä≠·ÄØ Join ·Äô·Äï·Äº·ÄØ·Äú·ÄØ·Äï·Ä∫·Äõ·Äû·Ä±·Ä∏·Äï·Ä´·Åã`
                    );
                }
            }

            // Answer callback
            await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/answerCallbackQuery`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ callback_query_id: query.id })
            });
        }

        return { statusCode: 200, headers, body: JSON.stringify({ ok: true }) };

    } catch (error) {
        console.error('Error:', error);
        return { 
            statusCode: 500, 
            headers, 
            body: JSON.stringify({ error: error.message }) 
        };
    }
};
            </div>
            <button class="copy-btn" onclick="copyCode('completeCode')">üìã Copy Full Code</button>
        </div>

        <!-- How It Works -->
        <div class="card">
            <h2>üîÑ System ·Äò·Äö·Ä∫·Äú·Ä≠·ÄØ ·Ä°·Äú·ÄØ·Äï·Ä∫·Äú·ÄØ·Äï·Ä∫·Äû·Äú·Ä≤</h2>
            
            <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 12px; margin-top: 15px;">
                <div style="margin-bottom: 20px;">
                    <strong>1. User ‚Üí ·Äû·ÄÑ·Ä∑·Ä∫ Bot</strong>
                    <p style="margin: 8px 0; opacity: 0.9;">User ·ÄÄ video link ·ÄÄ·Ä≠·ÄØ ·Äû·ÄÑ·Ä∑·Ä∫ bot ·Äë·Ä≤·Äô·Äæ·Ä¨ ·Äï·Ä≠·ÄØ·Ä∑·Äê·Äö·Ä∫</p>
                </div>

                <div style="margin-bottom: 20px;">
                    <strong>2. ·Äû·ÄÑ·Ä∑·Ä∫ Bot ‚Üí Processing</strong>
                    <p style="margin: 8px 0; opacity: 0.9;">Bot ·ÄÄ link ·ÄÄ·Ä≠·ÄØ detect ·Äú·ÄØ·Äï·Ä∫·Äï·Äº·ÄÆ·Ä∏ platform ·ÄÖ·ÄÖ·Ä∫·Äê·Äö·Ä∫</p>
                </div>

                <div style="margin-bottom: 20px;">
                    <strong>3. Deep Link Creation</strong>
                    <p style="margin: 8px 0; opacity: 0.9;">HUB9XDOWNLOADERBOT ·Äû·Ä≠·ÄØ·Ä∑ redirect link ·Äñ·Äî·Ä∫·Äê·ÄÆ·Ä∏·Äê·Äö·Ä∫</p>
                </div>

                <div style="margin-bottom: 20px;">
                    <strong>4. User ‚Üí HUB9XDOWNLOADERBOT</strong>
                    <p style="margin: 8px 0; opacity: 0.9;">User ·ÄÄ button ·Äî·Äæ·Ä≠·Äï·Ä∫·Äê·Ä¨·Äî·Ä≤·Ä∑ HUB9X bot ·ÄÜ·ÄÆ·Äû·ÄΩ·Ä¨·Ä∏·Äê·Äö·Ä∫</p>
                </div>

                <div>
                    <strong>5. Download Complete</strong>
                    <p style="margin: 8px 0; opacity: 0.9;">HUB9X bot ·ÄÄ video ·ÄÄ·Ä≠·ÄØ download ·Äú·ÄØ·Äï·Ä∫·Äï·Ä±·Ä∏·Äê·Äö·Ä∫</p>
                </div>
            </div>
        </div>

        <!-- Quick Deploy -->
        <div class="card">
            <h2>üöÄ Quick Deploy to Netlify</h2>
            
            <div class="instruction-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <strong>GitHub Repository ·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äõ·Äî·Ä∫</strong>
                    <p>·Ä°·Äï·Ä±·Ä´·Ä∫·ÄÄ code ·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ GitHub repo ·Äô·Äæ·Ä¨ upload ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´</p>
                </div>
            </div>

            <div class="instruction-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <strong>Netlify ·ÄÅ·Äª·Ä≠·Äê·Ä∫·ÄÜ·ÄÄ·Ä∫·Äõ·Äî·Ä∫</strong>
                    <p>Netlify dashboard ‚Üí "Import from Git" ‚Üí GitHub repo ·Äõ·ÄΩ·Ä±·Ä∏·Äï·Ä´</p>
                </div>
            </div>

            <div class="instruction-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <strong>Deploy ·Äú·ÄØ·Äï·Ä∫·Äï·Ä´</strong>
                    <p>Deploy settings ·Äô·Äæ·Ä¨ functions directory: <code>netlify/functions</code> ·Äë·Ää·Ä∑·Ä∫·Äï·Ä´</p>
                </div>
            </div>

            <div style="margin-top: 20px; text-align: center;">
                <a href="https://app.netlify.com/start" target="_blank" class="btn btn-primary">
                    üöÄ Deploy to Netlify Now
                </a>
            </div>
        </div>
    </div>

    <script>
        // Copy code function
        function copyCode(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                // Show success message
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = '‚úì Copied!';
                btn.style.background = 'rgba(76, 175, 80, 0.4)';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(err => {
                alert('Failed to copy: ' + err);
            });
        }

        // Reload telegram widget
        function reloadWidget() {
            const widget = document.getElementById('telegramWidget');
            widget.src = widget.src;
        }

        // Auto-reload widget every 5 minutes
        setInterval(() => {
            console.log('Auto-refreshing widget...');
        }, 300000);

        // Page load
        window.addEventListener('DOMContentLoaded', () => {
            console.log('Relay bot system loaded');
            
            // Show info based on current page
            const currentUrl = window.location.href;
            if (currentUrl.includes('netlify.app') || currentUrl.includes('localhost')) {
                const alert = document.getElementById('infoAlert');
                alert.innerHTML = '<strong>‚úÖ System Ready!</strong> ·Äû·ÄÑ·Ä∑·Ä∫ bot ·Äû·Ää·Ä∫ HUB9XDOWNLOADERBOT ·ÄÄ·Ä≠·ÄØ relay ·Ä°·Äî·Ä±·Äñ·Äº·ÄÑ·Ä∑·Ä∫ ·Ä°·Äû·ÄØ·Ä∂·Ä∏·Äï·Äº·ÄØ·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Äº·ÄÆ·Åã';
                alert.className = 'alert success show';
            }
        });
    </script>
</body>
</html>
